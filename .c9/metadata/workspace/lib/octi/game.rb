{"filter":false,"title":"game.rb","tooltip":"/lib/octi/game.rb","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":6},"end":{"row":128,"column":7}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":7},"end":{"row":128,"column":8}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":8},"end":{"row":128,"column":9}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":9},"end":{"row":128,"column":10}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":128,"column":35},"end":{"row":128,"column":50}},"text":".colorize(:red)"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":35},"end":{"row":128,"column":36}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":101,"column":4},"end":{"row":101,"column":5}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":103,"column":3},"end":{"row":103,"column":4}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":105,"column":3},"end":{"row":105,"column":4}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":107,"column":3},"end":{"row":107,"column":4}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":27},"end":{"row":27,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":5}},"text":"\t\t\t\t\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":27,"column":5},"end":{"row":27,"column":59}},"text":"\tap winner(current_position.end_value(player_to_move))"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":133,"column":0},"end":{"row":133,"column":31}},"text":"\t\t\t\tputs \"Error\".colorize(:red)"},{"action":"removeText","range":{"start":{"row":132,"column":2},"end":{"row":132,"column":7}},"text":"\telse"},{"action":"removeText","range":{"start":{"row":132,"column":2},"end":{"row":133,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":132,"column":1},"end":{"row":132,"column":2}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":132,"column":0},"end":{"row":132,"column":1}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":131,"column":36},"end":{"row":132,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":2},"end":{"row":40,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":3},"end":{"row":40,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":4},"end":{"row":40,"column":5}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":6},"end":{"row":40,"column":7}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":5},"end":{"row":40,"column":6}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":5},"end":{"row":40,"column":6}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":6},"end":{"row":40,"column":7}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":40,"column":0},"end":{"row":41,"column":0}},"nl":"\n","lines":["\t\t     puts \"end of tree 0\""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":57,"column":9},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":5}},"text":"\t    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":123,"column":7},"end":{"row":124,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":124,"column":0},"end":{"row":124,"column":3}},"text":"\t\t\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":3},"end":{"row":124,"column":4}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":4},"end":{"row":124,"column":5}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":5},"end":{"row":124,"column":6}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":6},"end":{"row":124,"column":7}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":7},"end":{"row":124,"column":8}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":8},"end":{"row":124,"column":9}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":9},"end":{"row":124,"column":10}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":9},"end":{"row":124,"column":10}},"text":"W"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":10},"end":{"row":124,"column":11}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":11},"end":{"row":124,"column":12}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":12},"end":{"row":124,"column":13}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":13},"end":{"row":124,"column":14}},"text":"!"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":14},"end":{"row":124,"column":15}},"text":"?"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":124,"column":0},"end":{"row":125,"column":0}},"nl":"\n","lines":["\t\t\tputs \"WHAT!?\""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":87,"column":8},"end":{"row":88,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":88,"column":0},"end":{"row":88,"column":5}},"text":"\t\t\t\t\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":5},"end":{"row":88,"column":6}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":6},"end":{"row":88,"column":7}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":7},"end":{"row":88,"column":8}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":8},"end":{"row":88,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":9},"end":{"row":88,"column":10}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":10},"end":{"row":88,"column":11}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":10},"end":{"row":88,"column":11}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":11},"end":{"row":88,"column":12}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":12},"end":{"row":88,"column":13}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":13},"end":{"row":88,"column":14}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":88,"column":14},"end":{"row":88,"column":15}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":27,"column":5},"end":{"row":27,"column":6}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":5},"end":{"row":27,"column":6}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":5},"end":{"row":27,"column":6}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":5},"end":{"row":27,"column":7}},"text":"ap"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":6}},"text":"ap"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":3},"end":{"row":19,"column":4}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":2},"end":{"row":10,"column":3}},"text":"#"},{"action":"insertText","range":{"start":{"row":19,"column":3},"end":{"row":19,"column":6}},"text":"\tap"},{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":23}},"text":"\t\t\t\tif next_move != nil"},{"action":"removeText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"\t"},{"action":"removeText","range":{"start":{"row":26,"column":4},"end":{"row":26,"column":5}},"text":"\t"},{"action":"removeText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":8}},"text":"\t\t\t\tend "},{"action":"removeLines","range":{"start":{"row":27,"column":0},"end":{"row":28,"column":0}},"nl":"\n","lines":["\t\t\t\t\t winner(current_position.end_value(player_to_move))"]},{"action":"removeText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":4}},"text":"#"},{"action":"removeText","range":{"start":{"row":36,"column":10},"end":{"row":36,"column":114}},"text":"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)"},{"action":"insertText","range":{"start":{"row":36,"column":10},"end":{"row":36,"column":33}},"text":"game over depth:#{depth"},{"action":"insertText","range":{"start":{"row":37,"column":12},"end":{"row":37,"column":13}},"text":"["},{"action":"insertText","range":{"start":{"row":37,"column":44},"end":{"row":37,"column":45}},"text":"]"},{"action":"insertText","range":{"start":{"row":39,"column":12},"end":{"row":39,"column":13}},"text":"["},{"action":"insertText","range":{"start":{"row":39,"column":50},"end":{"row":39,"column":51}},"text":"]"},{"action":"insertText","range":{"start":{"row":45,"column":30},"end":{"row":46,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":7}},"text":"\t\t\t\t   "},{"action":"removeText","range":{"start":{"row":49,"column":10},"end":{"row":49,"column":30}},"text":" best_move == nil ||"},{"action":"removeLines","range":{"start":{"row":50,"column":0},"end":{"row":51,"column":0}},"nl":"\n","lines":["\t\t\t\t    #\tputs \"BM: #{new_move}\""]},{"action":"removeText","range":{"start":{"row":54,"column":62},"end":{"row":54,"column":71}},"text":",position"},{"action":"removeLines","range":{"start":{"row":57,"column":0},"end":{"row":58,"column":0}},"nl":"\n","lines":["\t    "]},{"action":"removeText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":2}},"text":"\t "},{"action":"removeText","range":{"start":{"row":57,"column":34},"end":{"row":57,"column":44}},"text":",position)"},{"action":"removeText","range":{"start":{"row":57,"column":34},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":57,"column":34},"end":{"row":57,"column":35}},"text":")"},{"action":"insertText","range":{"start":{"row":57,"column":35},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":17}},"text":"\t    \tif m == nil"},{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":30}},"text":"position.game_ended?(p)"},{"action":"removeText","range":{"start":{"row":59,"column":7},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":15}},"text":"debugger"},{"action":"insertText","range":{"start":{"row":59,"column":15},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":9}},"text":"\t    \tend"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":7}},"text":"#"},{"action":"removeText","range":{"start":{"row":68,"column":0},"end":{"row":68,"column":5}},"text":"\t    "},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":68,"column":0}},"nl":"\n","lines":["\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend","\t    \t"]},{"action":"removeText","range":{"start":{"row":62,"column":5},"end":{"row":62,"column":66}},"text":"#\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\""},{"action":"removeText","range":{"start":{"row":62,"column":5},"end":{"row":63,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":62,"column":13},"end":{"row":62,"column":14}},"text":"["},{"action":"insertText","range":{"start":{"row":62,"column":17},"end":{"row":62,"column":18}},"text":"]"},{"action":"removeText","range":{"start":{"row":78,"column":0},"end":{"row":78,"column":1}},"text":"\t"},{"action":"removeLines","range":{"start":{"row":77,"column":0},"end":{"row":78,"column":0}},"nl":"\n","lines":["\t\t\t\tif options_prompt != nil"]},{"action":"removeText","range":{"start":{"row":81,"column":0},"end":{"row":81,"column":7}},"text":"\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":78,"column":0},"end":{"row":81,"column":0}},"nl":"\n","lines":["\t\t\t\telse","\t\t\t\t\tputs\"fadfa\"","\t\t\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":77,"column":61},"end":{"row":78,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":77,"column":61},"end":{"row":77,"column":62}},"text":" "},{"action":"insertText","range":{"start":{"row":94,"column":0},"end":{"row":94,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":94,"column":4},"end":{"row":95,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":95,"column":145},"end":{"row":96,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":96,"column":0},"end":{"row":96,"column":4}},"text":"\t\t\t\t"},{"action":"removeText","range":{"start":{"row":111,"column":0},"end":{"row":111,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":110,"column":3},"end":{"row":110,"column":24}},"text":"if all.flatten != nil"},{"action":"removeText","range":{"start":{"row":110,"column":3},"end":{"row":111,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":110,"column":3},"end":{"row":111,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":111,"column":0},"end":{"row":112,"column":0}},"lines":["\t\t\t#return options"]},{"action":"removeText","range":{"start":{"row":113,"column":0},"end":{"row":113,"column":1}},"text":"\t"},{"action":"insertText","range":{"start":{"row":113,"column":0},"end":{"row":114,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":115,"column":0},"end":{"row":117,"column":0}},"nl":"\n","lines":["\t\t\tend ","\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":119,"column":4},"end":{"row":119,"column":10}},"text":"abort("},{"action":"insertText","range":{"start":{"row":119,"column":4},"end":{"row":119,"column":8}},"text":"puts"},{"action":"insertText","range":{"start":{"row":119,"column":33},"end":{"row":119,"column":47}},"text":".colorize(:red"},{"action":"insertText","range":{"start":{"row":122,"column":0},"end":{"row":122,"column":7}},"text":"\t\t\telse"},{"action":"insertText","range":{"start":{"row":122,"column":7},"end":{"row":123,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":123,"column":0},"end":{"row":124,"column":0}},"lines":["\t\t\t\tputs \"Error\".colorize(:red)"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":10,"column":2},"end":{"row":10,"column":3}},"text":"#"},{"action":"removeText","range":{"start":{"row":19,"column":3},"end":{"row":19,"column":6}},"text":"\tap"},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":23}},"text":"\t\t\t\tif next_move != nil"},{"action":"insertText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"\t"},{"action":"insertText","range":{"start":{"row":26,"column":4},"end":{"row":26,"column":5}},"text":"\t"},{"action":"insertText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":56}},"text":"\t\t\t\t\t winner(current_position.end_value(player_to_move))"},{"action":"insertText","range":{"start":{"row":27,"column":56},"end":{"row":28,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":8}},"text":"\t\t\t\tend "},{"action":"insertText","range":{"start":{"row":37,"column":3},"end":{"row":37,"column":4}},"text":"#"},{"action":"removeText","range":{"start":{"row":37,"column":11},"end":{"row":37,"column":34}},"text":"game over depth:#{depth"},{"action":"insertText","range":{"start":{"row":37,"column":11},"end":{"row":37,"column":115}},"text":"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)"},{"action":"removeText","range":{"start":{"row":38,"column":12},"end":{"row":38,"column":13}},"text":"["},{"action":"removeText","range":{"start":{"row":38,"column":43},"end":{"row":38,"column":44}},"text":"]"},{"action":"removeText","range":{"start":{"row":40,"column":12},"end":{"row":40,"column":13}},"text":"["},{"action":"removeText","range":{"start":{"row":40,"column":49},"end":{"row":40,"column":50}},"text":"]"},{"action":"removeText","range":{"start":{"row":47,"column":0},"end":{"row":47,"column":7}},"text":"\t\t\t\t   "},{"action":"removeText","range":{"start":{"row":46,"column":30},"end":{"row":47,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":49,"column":10},"end":{"row":49,"column":30}},"text":" best_move == nil ||"},{"action":"insertText","range":{"start":{"row":50,"column":0},"end":{"row":50,"column":32}},"text":"\t\t\t\t    #\tputs \"BM: #{new_move}\""},{"action":"insertText","range":{"start":{"row":50,"column":32},"end":{"row":51,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":55,"column":62},"end":{"row":55,"column":71}},"text":",position"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":5}},"text":"\t    "},{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":59,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":17}},"text":"\t    \tif m == nil"},{"action":"removeText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":35}},"text":")"},{"action":"removeText","range":{"start":{"row":59,"column":34},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":44}},"text":",position)"},{"action":"insertText","range":{"start":{"row":59,"column":44},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":2}},"text":"\t "},{"action":"removeText","range":{"start":{"row":61,"column":4},"end":{"row":61,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":62,"column":0},"end":{"row":62,"column":9}},"text":"\t    \tend"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":14}},"text":"debugger"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":62,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":29}},"text":"position.game_ended?(p)"},{"action":"insertText","range":{"start":{"row":61,"column":29},"end":{"row":62,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":63,"column":6},"end":{"row":63,"column":7}},"text":"#"},{"action":"insertText","range":{"start":{"row":64,"column":5},"end":{"row":64,"column":66}},"text":"#\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\""},{"action":"insertText","range":{"start":{"row":64,"column":66},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":65,"column":0},"end":{"row":70,"column":0}},"lines":["\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend","\t    \t"]},{"action":"insertText","range":{"start":{"row":70,"column":0},"end":{"row":70,"column":5}},"text":"\t    "},{"action":"removeText","range":{"start":{"row":70,"column":13},"end":{"row":70,"column":14}},"text":"["},{"action":"removeText","range":{"start":{"row":70,"column":16},"end":{"row":70,"column":17}},"text":"]"},{"action":"insertText","range":{"start":{"row":85,"column":0},"end":{"row":85,"column":28}},"text":"\t\t\t\tif options_prompt != nil"},{"action":"insertText","range":{"start":{"row":85,"column":28},"end":{"row":86,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":86,"column":62},"end":{"row":86,"column":63}},"text":" "},{"action":"insertText","range":{"start":{"row":86,"column":62},"end":{"row":87,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":87,"column":0},"end":{"row":90,"column":0}},"lines":["\t\t\t\telse","\t\t\t\t\tputs\"fadfa\"","\t\t\t\t\treturn nil"]},{"action":"insertText","range":{"start":{"row":90,"column":0},"end":{"row":90,"column":7}},"text":"\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":107,"column":0},"end":{"row":108,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":108,"column":0},"end":{"row":108,"column":4}},"text":"\t\t\t\t"},{"action":"removeText","range":{"start":{"row":107,"column":145},"end":{"row":108,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":122,"column":0},"end":{"row":123,"column":0}},"nl":"\n","lines":["\t\t\t#return options"]},{"action":"removeText","range":{"start":{"row":121,"column":3},"end":{"row":122,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":121,"column":3},"end":{"row":121,"column":24}},"text":"if all.flatten != nil"},{"action":"insertText","range":{"start":{"row":121,"column":24},"end":{"row":122,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":122,"column":0},"end":{"row":122,"column":1}},"text":"\t"},{"action":"removeLines","range":{"start":{"row":123,"column":0},"end":{"row":124,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":123,"column":0},"end":{"row":123,"column":1}},"text":"\t"},{"action":"insertText","range":{"start":{"row":124,"column":0},"end":{"row":124,"column":7}},"text":"\t\t\tend "},{"action":"insertText","range":{"start":{"row":124,"column":7},"end":{"row":125,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":125,"column":0},"end":{"row":126,"column":0}},"lines":["\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":130,"column":4},"end":{"row":130,"column":8}},"text":"puts"},{"action":"insertText","range":{"start":{"row":130,"column":4},"end":{"row":130,"column":10}},"text":"abort("},{"action":"removeText","range":{"start":{"row":130,"column":35},"end":{"row":130,"column":49}},"text":".colorize(:red"},{"action":"removeLines","range":{"start":{"row":133,"column":0},"end":{"row":135,"column":0}},"nl":"\n","lines":["\t\t\telse","\t\t\t\tputs \"Error\".colorize(:red)"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":2},"end":{"row":10,"column":3}},"text":"#"},{"action":"insertText","range":{"start":{"row":19,"column":3},"end":{"row":19,"column":6}},"text":"\tap"},{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":23}},"text":"\t\t\t\tif next_move != nil"},{"action":"removeText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"\t"},{"action":"removeText","range":{"start":{"row":26,"column":4},"end":{"row":26,"column":5}},"text":"\t"},{"action":"removeText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":8}},"text":"\t\t\t\tend "},{"action":"removeLines","range":{"start":{"row":27,"column":0},"end":{"row":28,"column":0}},"nl":"\n","lines":["\t\t\t\t\t winner(current_position.end_value(player_to_move))"]},{"action":"removeText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":4}},"text":"#"},{"action":"removeText","range":{"start":{"row":36,"column":10},"end":{"row":36,"column":114}},"text":"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)"},{"action":"insertText","range":{"start":{"row":36,"column":10},"end":{"row":36,"column":33}},"text":"game over depth:#{depth"},{"action":"insertText","range":{"start":{"row":37,"column":12},"end":{"row":37,"column":13}},"text":"["},{"action":"insertText","range":{"start":{"row":37,"column":44},"end":{"row":37,"column":45}},"text":"]"},{"action":"insertText","range":{"start":{"row":39,"column":12},"end":{"row":39,"column":13}},"text":"["},{"action":"insertText","range":{"start":{"row":39,"column":50},"end":{"row":39,"column":51}},"text":"]"},{"action":"insertText","range":{"start":{"row":45,"column":30},"end":{"row":46,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":7}},"text":"\t\t\t\t   "},{"action":"removeText","range":{"start":{"row":49,"column":10},"end":{"row":49,"column":30}},"text":" best_move == nil ||"},{"action":"removeLines","range":{"start":{"row":50,"column":0},"end":{"row":51,"column":0}},"nl":"\n","lines":["\t\t\t\t    #\tputs \"BM: #{new_move}\""]},{"action":"removeText","range":{"start":{"row":54,"column":62},"end":{"row":54,"column":71}},"text":",position"},{"action":"removeLines","range":{"start":{"row":57,"column":0},"end":{"row":58,"column":0}},"nl":"\n","lines":["\t    "]},{"action":"removeText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":2}},"text":"\t "},{"action":"removeText","range":{"start":{"row":57,"column":34},"end":{"row":57,"column":44}},"text":",position)"},{"action":"removeText","range":{"start":{"row":57,"column":34},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":57,"column":34},"end":{"row":57,"column":35}},"text":")"},{"action":"insertText","range":{"start":{"row":57,"column":35},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":17}},"text":"\t    \tif m == nil"},{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":30}},"text":"position.game_ended?(p)"},{"action":"removeText","range":{"start":{"row":59,"column":7},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":15}},"text":"debugger"},{"action":"insertText","range":{"start":{"row":59,"column":15},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":9}},"text":"\t    \tend"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":7}},"text":"#"},{"action":"removeText","range":{"start":{"row":68,"column":0},"end":{"row":68,"column":5}},"text":"\t    "},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":68,"column":0}},"nl":"\n","lines":["\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend","\t    \t"]},{"action":"removeText","range":{"start":{"row":62,"column":5},"end":{"row":62,"column":66}},"text":"#\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\""},{"action":"removeText","range":{"start":{"row":62,"column":5},"end":{"row":63,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":62,"column":13},"end":{"row":62,"column":14}},"text":"["},{"action":"insertText","range":{"start":{"row":62,"column":17},"end":{"row":62,"column":18}},"text":"]"},{"action":"removeText","range":{"start":{"row":78,"column":0},"end":{"row":78,"column":1}},"text":"\t"},{"action":"removeLines","range":{"start":{"row":77,"column":0},"end":{"row":78,"column":0}},"nl":"\n","lines":["\t\t\t\tif options_prompt != nil"]},{"action":"removeText","range":{"start":{"row":81,"column":0},"end":{"row":81,"column":7}},"text":"\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":78,"column":0},"end":{"row":81,"column":0}},"nl":"\n","lines":["\t\t\t\telse","\t\t\t\t\tputs\"fadfa\"","\t\t\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":77,"column":61},"end":{"row":78,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":77,"column":61},"end":{"row":77,"column":62}},"text":" "},{"action":"insertText","range":{"start":{"row":94,"column":0},"end":{"row":94,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":94,"column":4},"end":{"row":95,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":95,"column":145},"end":{"row":96,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":96,"column":0},"end":{"row":96,"column":4}},"text":"\t\t\t\t"},{"action":"removeText","range":{"start":{"row":111,"column":0},"end":{"row":111,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":110,"column":3},"end":{"row":110,"column":24}},"text":"if all.flatten != nil"},{"action":"removeText","range":{"start":{"row":110,"column":3},"end":{"row":111,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":110,"column":3},"end":{"row":111,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":111,"column":0},"end":{"row":112,"column":0}},"lines":["\t\t\t#return options"]},{"action":"removeText","range":{"start":{"row":113,"column":0},"end":{"row":113,"column":1}},"text":"\t"},{"action":"insertText","range":{"start":{"row":113,"column":0},"end":{"row":114,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":115,"column":0},"end":{"row":117,"column":0}},"nl":"\n","lines":["\t\t\tend ","\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":119,"column":4},"end":{"row":119,"column":10}},"text":"abort("},{"action":"insertText","range":{"start":{"row":119,"column":4},"end":{"row":119,"column":8}},"text":"puts"},{"action":"insertText","range":{"start":{"row":119,"column":33},"end":{"row":119,"column":47}},"text":".colorize(:red"},{"action":"insertText","range":{"start":{"row":122,"column":0},"end":{"row":122,"column":7}},"text":"\t\t\telse"},{"action":"insertText","range":{"start":{"row":122,"column":7},"end":{"row":123,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":123,"column":0},"end":{"row":124,"column":0}},"lines":["\t\t\t\tputs \"Error\".colorize(:red)"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":10,"column":2},"end":{"row":10,"column":3}},"text":"#"},{"action":"removeText","range":{"start":{"row":19,"column":3},"end":{"row":19,"column":6}},"text":"\tap"},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":23}},"text":"\t\t\t\tif next_move != nil"},{"action":"insertText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"\t"},{"action":"insertText","range":{"start":{"row":26,"column":4},"end":{"row":26,"column":5}},"text":"\t"},{"action":"insertText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":56}},"text":"\t\t\t\t\t winner(current_position.end_value(player_to_move))"},{"action":"insertText","range":{"start":{"row":27,"column":56},"end":{"row":28,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":8}},"text":"\t\t\t\tend "},{"action":"insertText","range":{"start":{"row":37,"column":3},"end":{"row":37,"column":4}},"text":"#"},{"action":"removeText","range":{"start":{"row":37,"column":11},"end":{"row":37,"column":34}},"text":"game over depth:#{depth"},{"action":"insertText","range":{"start":{"row":37,"column":11},"end":{"row":37,"column":115}},"text":"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)"},{"action":"removeText","range":{"start":{"row":38,"column":12},"end":{"row":38,"column":13}},"text":"["},{"action":"removeText","range":{"start":{"row":38,"column":43},"end":{"row":38,"column":44}},"text":"]"},{"action":"removeText","range":{"start":{"row":40,"column":12},"end":{"row":40,"column":13}},"text":"["},{"action":"removeText","range":{"start":{"row":40,"column":49},"end":{"row":40,"column":50}},"text":"]"},{"action":"removeText","range":{"start":{"row":47,"column":0},"end":{"row":47,"column":7}},"text":"\t\t\t\t   "},{"action":"removeText","range":{"start":{"row":46,"column":30},"end":{"row":47,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":49,"column":10},"end":{"row":49,"column":30}},"text":" best_move == nil ||"},{"action":"insertText","range":{"start":{"row":50,"column":0},"end":{"row":50,"column":32}},"text":"\t\t\t\t    #\tputs \"BM: #{new_move}\""},{"action":"insertText","range":{"start":{"row":50,"column":32},"end":{"row":51,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":55,"column":62},"end":{"row":55,"column":71}},"text":",position"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":5}},"text":"\t    "},{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":59,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":17}},"text":"\t    \tif m == nil"},{"action":"removeText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":35}},"text":")"},{"action":"removeText","range":{"start":{"row":59,"column":34},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":44}},"text":",position)"},{"action":"insertText","range":{"start":{"row":59,"column":44},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":2}},"text":"\t "},{"action":"removeText","range":{"start":{"row":61,"column":4},"end":{"row":61,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":62,"column":0},"end":{"row":62,"column":9}},"text":"\t    \tend"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":14}},"text":"debugger"},{"action":"removeText","range":{"start":{"row":61,"column":6},"end":{"row":62,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":61,"column":6},"end":{"row":61,"column":29}},"text":"position.game_ended?(p)"},{"action":"insertText","range":{"start":{"row":61,"column":29},"end":{"row":62,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":63,"column":6},"end":{"row":63,"column":7}},"text":"#"},{"action":"insertText","range":{"start":{"row":64,"column":5},"end":{"row":64,"column":66}},"text":"#\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\""},{"action":"insertText","range":{"start":{"row":64,"column":66},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":65,"column":0},"end":{"row":70,"column":0}},"lines":["\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend","\t    \t"]},{"action":"insertText","range":{"start":{"row":70,"column":0},"end":{"row":70,"column":5}},"text":"\t    "},{"action":"removeText","range":{"start":{"row":70,"column":13},"end":{"row":70,"column":14}},"text":"["},{"action":"removeText","range":{"start":{"row":70,"column":16},"end":{"row":70,"column":17}},"text":"]"},{"action":"insertText","range":{"start":{"row":85,"column":0},"end":{"row":85,"column":28}},"text":"\t\t\t\tif options_prompt != nil"},{"action":"insertText","range":{"start":{"row":85,"column":28},"end":{"row":86,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":86,"column":62},"end":{"row":86,"column":63}},"text":" "},{"action":"insertText","range":{"start":{"row":86,"column":62},"end":{"row":87,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":87,"column":0},"end":{"row":90,"column":0}},"lines":["\t\t\t\telse","\t\t\t\t\tputs\"fadfa\"","\t\t\t\t\treturn nil"]},{"action":"insertText","range":{"start":{"row":90,"column":0},"end":{"row":90,"column":7}},"text":"\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":107,"column":0},"end":{"row":108,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":108,"column":0},"end":{"row":108,"column":4}},"text":"\t\t\t\t"},{"action":"removeText","range":{"start":{"row":107,"column":145},"end":{"row":108,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":122,"column":0},"end":{"row":123,"column":0}},"nl":"\n","lines":["\t\t\t#return options"]},{"action":"removeText","range":{"start":{"row":121,"column":3},"end":{"row":122,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":121,"column":3},"end":{"row":121,"column":24}},"text":"if all.flatten != nil"},{"action":"insertText","range":{"start":{"row":121,"column":24},"end":{"row":122,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":122,"column":0},"end":{"row":122,"column":1}},"text":"\t"},{"action":"removeLines","range":{"start":{"row":123,"column":0},"end":{"row":124,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":123,"column":0},"end":{"row":123,"column":1}},"text":"\t"},{"action":"insertText","range":{"start":{"row":124,"column":0},"end":{"row":124,"column":7}},"text":"\t\t\tend "},{"action":"insertText","range":{"start":{"row":124,"column":7},"end":{"row":125,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":125,"column":0},"end":{"row":126,"column":0}},"lines":["\t\t\treturn nil"]},{"action":"removeText","range":{"start":{"row":130,"column":4},"end":{"row":130,"column":8}},"text":"puts"},{"action":"insertText","range":{"start":{"row":130,"column":4},"end":{"row":130,"column":10}},"text":"abort("},{"action":"removeText","range":{"start":{"row":130,"column":35},"end":{"row":130,"column":49}},"text":".colorize(:red"},{"action":"removeLines","range":{"start":{"row":133,"column":0},"end":{"row":135,"column":0}},"nl":"\n","lines":["\t\t\telse","\t\t\t\tputs \"Error\".colorize(:red)"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"3"},{"action":"insertText","range":{"start":{"row":5,"column":25},"end":{"row":5,"column":26}},"text":"1"},{"action":"removeText","range":{"start":{"row":7,"column":26},"end":{"row":7,"column":27}},"text":"3"},{"action":"insertText","range":{"start":{"row":7,"column":26},"end":{"row":7,"column":27}},"text":"1"},{"action":"insertText","range":{"start":{"row":19,"column":53},"end":{"row":19,"column":69}},"text":", player_to_move"},{"action":"insertText","range":{"start":{"row":27,"column":55},"end":{"row":27,"column":71}},"text":", player_to_move"},{"action":"removeLines","range":{"start":{"row":88,"column":0},"end":{"row":89,"column":0}},"nl":"\n","lines":["\t\t\t\t\tputs\"fadfa\""]},{"action":"insertText","range":{"start":{"row":127,"column":18},"end":{"row":127,"column":26}},"text":", player"},{"action":"insertText","range":{"start":{"row":129,"column":0},"end":{"row":129,"column":24}},"text":"\t\t\t\tif player.index == 0"},{"action":"insertText","range":{"start":{"row":129,"column":24},"end":{"row":130,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":130,"column":0},"end":{"row":130,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":130,"column":31},"end":{"row":130,"column":35}},"text":"t :("},{"action":"insertText","range":{"start":{"row":130,"column":31},"end":{"row":130,"column":33}},"text":"e."},{"action":"insertText","range":{"start":{"row":131,"column":0},"end":{"row":131,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":132,"column":0},"end":{"row":132,"column":10}},"text":"\t\t\t\tputs \""},{"action":"removeText","range":{"start":{"row":131,"column":10},"end":{"row":131,"column":23}},"text":"value == -100"},{"action":"removeText","range":{"start":{"row":131,"column":10},"end":{"row":132,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":131,"column":10},"end":{"row":131,"column":27}},"text":"player.index == 1"},{"action":"insertText","range":{"start":{"row":131,"column":27},"end":{"row":132,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":132,"column":0},"end":{"row":133,"column":0}},"lines":["\t\t\t \t #value == -100"]},{"action":"insertText","range":{"start":{"row":133,"column":0},"end":{"row":133,"column":24}},"text":"\t\t\t\t\tabort( \"GAME OVER. "},{"action":"removeText","range":{"start":{"row":133,"column":29},"end":{"row":133,"column":30}},"text":"o"},{"action":"insertText","range":{"start":{"row":133,"column":29},"end":{"row":133,"column":30}},"text":"i"},{"action":"removeText","range":{"start":{"row":133,"column":33},"end":{"row":133,"column":47}},"text":".colorize(:gre"},{"action":"insertText","range":{"start":{"row":133,"column":33},"end":{"row":133,"column":34}},"text":")"},{"action":"insertText","range":{"start":{"row":133,"column":34},"end":{"row":134,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":134,"column":0},"end":{"row":134,"column":4}},"text":"\t\t\t\t"},{"action":"removeText","range":{"start":{"row":134,"column":6},"end":{"row":134,"column":7}},"text":")"},{"action":"insertText","range":{"start":{"row":134,"column":6},"end":{"row":134,"column":7}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":46,"column":8},"end":{"row":46,"column":18}},"text":"new_move, "}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":37,"column":0},"end":{"row":38,"column":0}},"nl":"\n","lines":["\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":36,"column":0},"end":{"row":37,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":34,"column":0},"end":{"row":35,"column":0}},"nl":"\n","lines":["\t\t\t#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":2},"end":{"row":34,"column":3}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":2},"end":{"row":34,"column":3}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":53,"column":8},"end":{"row":53,"column":9}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":53,"column":7},"end":{"row":53,"column":8}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":53,"column":6},"end":{"row":53,"column":7}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":53,"column":5},"end":{"row":53,"column":6}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":53,"column":5},"end":{"row":53,"column":6}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":52,"column":3},"end":{"row":52,"column":4}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":52,"column":3},"end":{"row":52,"column":4}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":47,"column":0},"end":{"row":48,"column":0}},"nl":"\n","lines":["\t\t\t\t    #\tputs \"BM: #{new_move}\""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":15},"end":{"row":47,"column":16}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":14},"end":{"row":47,"column":15}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":13},"end":{"row":47,"column":14}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":13}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":11},"end":{"row":47,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":10},"end":{"row":47,"column":11}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":9},"end":{"row":47,"column":10}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":1}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":1}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":14},"end":{"row":48,"column":15}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"insertText","range":{"start":{"row":2,"column":13},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":4},"end":{"row":23,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":23,"column":53},"end":{"row":23,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"insertText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"insertText","range":{"start":{"row":36,"column":61},"end":{"row":37,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":37,"column":0},"end":{"row":39,"column":0}},"lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"insertText","range":{"start":{"row":48,"column":8},"end":{"row":48,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":9}},"text":"\t"},{"action":"insertText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"insertText","range":{"start":{"row":52,"column":32},"end":{"row":53,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":16}},"text":"\t\t\t\t            "},{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":54,"column":16},"end":{"row":54,"column":17}},"text":"\t"},{"action":"removeText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":9}},"text":"    "},{"action":"removeLines","range":{"start":{"row":62,"column":0},"end":{"row":63,"column":0}},"nl":"\n","lines":["\t "]},{"action":"removeText","range":{"start":{"row":70,"column":0},"end":{"row":70,"column":6}},"text":"\t    \t"},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":70,"column":0}},"nl":"\n","lines":["","\t    \t#puts \"Exiting bestmove[depth= #{d}]|Player: #{p.index}| best_move=#{m.class}| Pod:(#{m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)","\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"removeText","range":{"start":{"row":62,"column":29},"end":{"row":63,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":66,"column":27},"end":{"row":66,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":68,"column":5},"end":{"row":68,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"insertText","range":{"start":{"row":68,"column":5},"end":{"row":68,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":70,"column":4},"end":{"row":70,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":76,"column":0},"end":{"row":76,"column":23}},"text":"\t\t\t\t@@count = @@count+1"},{"action":"insertText","range":{"start":{"row":76,"column":23},"end":{"row":77,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":77,"column":0},"end":{"row":78,"column":0}},"lines":["\t\t\t\t"]},{"action":"insertText","range":{"start":{"row":80,"column":0},"end":{"row":80,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":80,"column":4},"end":{"row":81,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":62}},"text":")"},{"action":"insertText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":69}},"text":", count)"},{"action":"insertText","range":{"start":{"row":82,"column":69},"end":{"row":83,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":83,"column":0},"end":{"row":86,"column":0}},"lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":8}},"text":"\t\t\t\t\tend"},{"action":"insertText","range":{"start":{"row":92,"column":61},"end":{"row":92,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":94,"column":66},"end":{"row":94,"column":67}},"text":")"},{"action":"insertText","range":{"start":{"row":94,"column":66},"end":{"row":94,"column":85}},"text":", count) #if \"back\""},{"action":"removeText","range":{"start":{"row":96,"column":4},"end":{"row":96,"column":10}},"text":"return"},{"action":"insertText","range":{"start":{"row":96,"column":4},"end":{"row":96,"column":9}},"text":"while"},{"action":"removeText","range":{"start":{"row":102,"column":0},"end":{"row":102,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeLines","range":{"start":{"row":97,"column":0},"end":{"row":102,"column":0}},"nl":"\n","lines":["\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert"]},{"action":"removeText","range":{"start":{"row":96,"column":22},"end":{"row":97,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":96,"column":22},"end":{"row":96,"column":27}},"text":" == 0"},{"action":"insertText","range":{"start":{"row":96,"column":27},"end":{"row":97,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":97,"column":0},"end":{"row":119,"column":0}},"lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"insertText","range":{"start":{"row":119,"column":0},"end":{"row":119,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeText","range":{"start":{"row":119,"column":39},"end":{"row":119,"column":42}},"text":"mov"},{"action":"insertText","range":{"start":{"row":119,"column":39},"end":{"row":119,"column":50}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":119,"column":61},"end":{"row":119,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":119,"column":63},"end":{"row":119,"column":79}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":119,"column":63},"end":{"row":119,"column":108}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"removeText","range":{"start":{"row":119,"column":110},"end":{"row":119,"column":111}},"text":"("},{"action":"removeText","range":{"start":{"row":119,"column":112},"end":{"row":119,"column":115}},"text":"mov"},{"action":"insertText","range":{"start":{"row":119,"column":112},"end":{"row":119,"column":123}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":119,"column":128},"end":{"row":119,"column":129}},"text":" "},{"action":"removeText","range":{"start":{"row":119,"column":130},"end":{"row":119,"column":133}},"text":"mov"},{"action":"insertText","range":{"start":{"row":119,"column":130},"end":{"row":119,"column":141}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":119,"column":145},"end":{"row":119,"column":146}},"text":")"},{"action":"removeText","range":{"start":{"row":120,"column":0},"end":{"row":120,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":119,"column":147},"end":{"row":119,"column":154}},"text":"#color?"},{"action":"removeText","range":{"start":{"row":119,"column":147},"end":{"row":120,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":119,"column":147},"end":{"row":119,"column":152}},"text":": \"\")"},{"action":"insertText","range":{"start":{"row":119,"column":152},"end":{"row":120,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":120,"column":0},"end":{"row":126,"column":0}},"lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"insertText","range":{"start":{"row":126,"column":0},"end":{"row":126,"column":3}},"text":"\t\t\t"},{"action":"removeText","range":{"start":{"row":126,"column":20},"end":{"row":126,"column":23}},"text":"Hop"},{"action":"insertText","range":{"start":{"row":126,"column":20},"end":{"row":126,"column":26}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":127,"column":4},"end":{"row":127,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":127,"column":31},"end":{"row":127,"column":32}},"text":" "},{"action":"removeText","range":{"start":{"row":127,"column":84},"end":{"row":127,"column":95}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":127,"column":84},"end":{"row":127,"column":89}},"text":"Direc"},{"action":"removeText","range":{"start":{"row":127,"column":95},"end":{"row":127,"column":96}},"text":"("},{"action":"removeText","range":{"start":{"row":127,"column":103},"end":{"row":127,"column":127}},"text":"estination.x}, #{move.de"},{"action":"insertText","range":{"start":{"row":127,"column":103},"end":{"row":127,"column":137}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"insertText","range":{"start":{"row":127,"column":137},"end":{"row":128,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":128,"column":0},"end":{"row":129,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":129,"column":0},"end":{"row":129,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"insertText","range":{"start":{"row":129,"column":34},"end":{"row":129,"column":35}},"text":"r"},{"action":"removeText","range":{"start":{"row":129,"column":37},"end":{"row":129,"column":48}},"text":"ation.y})\" "},{"action":"insertText","range":{"start":{"row":129,"column":37},"end":{"row":129,"column":76}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"removeText","range":{"start":{"row":130,"column":23},"end":{"row":130,"column":26}},"text":"Jum"},{"action":"insertText","range":{"start":{"row":130,"column":23},"end":{"row":130,"column":25}},"text":"Ho"},{"action":"removeText","range":{"start":{"row":131,"column":10},"end":{"row":131,"column":109}},"text":"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.de"},{"action":"insertText","range":{"start":{"row":131,"column":10},"end":{"row":131,"column":76}},"text":"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"insertText","range":{"start":{"row":131,"column":76},"end":{"row":132,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":132,"column":0},"end":{"row":133,"column":0}},"lines":["\t\t\telsif move.class == Jump"]},{"action":"insertText","range":{"start":{"row":133,"column":0},"end":{"row":133,"column":31}},"text":"\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"insertText","range":{"start":{"row":133,"column":33},"end":{"row":133,"column":34}},"text":"r"},{"action":"removeText","range":{"start":{"row":133,"column":36},"end":{"row":133,"column":45}},"text":"ation.x},"},{"action":"insertText","range":{"start":{"row":133,"column":36},"end":{"row":133,"column":40}},"text":"g} -"},{"action":"removeText","range":{"start":{"row":133,"column":60},"end":{"row":133,"column":94}},"text":"y})|captures: #{move.jumped_pods}\""},{"action":"insertText","range":{"start":{"row":133,"column":60},"end":{"row":133,"column":114}},"text":"pretty_string}\" + (move.jumped_pods.empty? ? \"\" : \"x\")"},{"action":"removeLines","range":{"start":{"row":143,"column":0},"end":{"row":144,"column":0}},"nl":"\n","lines":["\t\t\t"]},{"action":"insertText","range":{"start":{"row":144,"column":0},"end":{"row":145,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":3,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":21,"column":0},"end":{"row":22,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":21,"column":53},"end":{"row":21,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":37,"column":0},"end":{"row":37,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"removeLines","range":{"start":{"row":35,"column":0},"end":{"row":37,"column":0}},"nl":"\n","lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":35,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"removeText","range":{"start":{"row":43,"column":8},"end":{"row":43,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":16}},"text":"\t\t\t\t            "},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":48,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":48,"column":14},"end":{"row":48,"column":15}},"text":"\t"},{"action":"removeText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":9}},"text":"    "},{"action":"insertText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":56,"column":0},"end":{"row":56,"column":2}},"text":"\t "},{"action":"insertText","range":{"start":{"row":56,"column":2},"end":{"row":57,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":57,"column":29},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":58,"column":0},"end":{"row":65,"column":0}},"lines":["","\t    \t#puts \"Exiting bestmove[depth= #{d}]|Player: #{p.index}| best_move=#{m.class}| Pod:(#{m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)","\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":6}},"text":"\t    \t"},{"action":"removeText","range":{"start":{"row":69,"column":27},"end":{"row":69,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"removeText","range":{"start":{"row":73,"column":4},"end":{"row":73,"column":5}},"text":"#"},{"action":"removeLines","range":{"start":{"row":79,"column":0},"end":{"row":81,"column":0}},"nl":"\n","lines":["\t\t\t\t@@count = @@count+1","\t\t\t\t"]},{"action":"removeLines","range":{"start":{"row":81,"column":0},"end":{"row":82,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":8}},"text":"\t\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":83,"column":0},"end":{"row":86,"column":0}},"nl":"\n","lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":69}},"text":", count)"},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":83,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":88,"column":61},"end":{"row":88,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":85}},"text":", count) #if \"back\""},{"action":"insertText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":67}},"text":")"},{"action":"removeText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":9}},"text":"while"},{"action":"insertText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":10}},"text":"return"},{"action":"removeText","range":{"start":{"row":94,"column":0},"end":{"row":94,"column":51}},"text":"\t\t\t\t\toptions_prompt = get_options(position, player)"},{"action":"removeLines","range":{"start":{"row":93,"column":0},"end":{"row":94,"column":0}},"nl":"\n","lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)"]},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":92,"column":28}},"text":" == 0"},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":93,"column":0},"end":{"row":94,"column":0}},"lines":["\t\t\tend"]},{"action":"insertText","range":{"start":{"row":94,"column":0},"end":{"row":94,"column":5}},"text":"\t\tend"},{"action":"removeText","range":{"start":{"row":96,"column":2},"end":{"row":96,"column":3}},"text":"\t"},{"action":"removeText","range":{"start":{"row":115,"column":0},"end":{"row":115,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeLines","range":{"start":{"row":97,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":["\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"removeText","range":{"start":{"row":96,"column":2},"end":{"row":96,"column":28}},"text":"\t\tif options_prompt != nil"},{"action":"removeText","range":{"start":{"row":96,"column":2},"end":{"row":97,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":96,"column":2},"end":{"row":96,"column":22}},"text":"def print_move(move)"},{"action":"insertText","range":{"start":{"row":96,"column":22},"end":{"row":97,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":97,"column":0},"end":{"row":98,"column":0}},"lines":["\t\t\tif move.class == Insert"]},{"action":"insertText","range":{"start":{"row":98,"column":0},"end":{"row":98,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":77}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":69}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":80},"end":{"row":98,"column":81}},"text":")"},{"action":"removeText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":128}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"insertText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":99}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":98,"column":101},"end":{"row":98,"column":102}},"text":"("},{"action":"removeText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":115}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":107}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":112},"end":{"row":98,"column":113}},"text":" "},{"action":"removeText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":126}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":118}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":122},"end":{"row":98,"column":123}},"text":")"},{"action":"removeText","range":{"start":{"row":105,"column":0},"end":{"row":105,"column":3}},"text":"\t\t\t"},{"action":"removeLines","range":{"start":{"row":99,"column":0},"end":{"row":105,"column":0}},"nl":"\n","lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":130}},"text":": \"\")"},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":132}},"text":"#color?"},{"action":"insertText","range":{"start":{"row":98,"column":132},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":29}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":26}},"text":"Hop"},{"action":"removeText","range":{"start":{"row":100,"column":4},"end":{"row":100,"column":5}},"text":"#"},{"action":"removeText","range":{"start":{"row":100,"column":30},"end":{"row":100,"column":31}},"text":" "},{"action":"removeText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":87}},"text":"Direc"},{"action":"insertText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":93}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":100,"column":99},"end":{"row":100,"column":100}},"text":"("},{"action":"removeText","range":{"start":{"row":102,"column":0},"end":{"row":102,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"removeLines","range":{"start":{"row":101,"column":0},"end":{"row":102,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":142}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":101,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":132}},"text":"estination.x}, #{move.de"},{"action":"removeText","range":{"start":{"row":100,"column":134},"end":{"row":100,"column":135}},"text":"r"},{"action":"removeText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":175}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"insertText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":147}},"text":"ation.y})\" "},{"action":"removeText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":25}},"text":"Ho"},{"action":"insertText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":26}},"text":"Jum"},{"action":"insertText","range":{"start":{"row":102,"column":10},"end":{"row":102,"column":16}},"text":"Move: "},{"action":"removeText","range":{"start":{"row":104,"column":0},"end":{"row":104,"column":114}},"text":"\t\t\t\tputs \"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" + (move.jumped_pods.empty? ? \"\" : \"x\")"},{"action":"removeLines","range":{"start":{"row":103,"column":0},"end":{"row":104,"column":0}},"nl":"\n","lines":["\t\t\telsif move.class == Jump"]},{"action":"removeText","range":{"start":{"row":102,"column":23},"end":{"row":102,"column":82}},"text":"origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"removeText","range":{"start":{"row":102,"column":23},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":102,"column":23},"end":{"row":102,"column":176}},"text":"class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods}\""},{"action":"insertText","range":{"start":{"row":112,"column":0},"end":{"row":112,"column":3}},"text":"\t\t\t"},{"action":"insertText","range":{"start":{"row":112,"column":3},"end":{"row":113,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":114,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"insertText","range":{"start":{"row":2,"column":13},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":4},"end":{"row":23,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":23,"column":53},"end":{"row":23,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"insertText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"insertText","range":{"start":{"row":36,"column":61},"end":{"row":37,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":37,"column":0},"end":{"row":39,"column":0}},"lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"insertText","range":{"start":{"row":48,"column":8},"end":{"row":48,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":9}},"text":"\t"},{"action":"insertText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"insertText","range":{"start":{"row":52,"column":32},"end":{"row":53,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":16}},"text":"\t\t\t\t            "},{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":54,"column":16},"end":{"row":54,"column":17}},"text":"\t"},{"action":"removeText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":9}},"text":"    "},{"action":"removeLines","range":{"start":{"row":62,"column":0},"end":{"row":63,"column":0}},"nl":"\n","lines":["\t "]},{"action":"removeText","range":{"start":{"row":64,"column":0},"end":{"row":64,"column":2}},"text":"\t "},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":64,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":63,"column":0},"end":{"row":63,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":63,"column":5},"end":{"row":63,"column":6}},"text":"#"},{"action":"insertText","range":{"start":{"row":63,"column":5},"end":{"row":63,"column":6}},"text":"\t"},{"action":"removeText","range":{"start":{"row":63,"column":12},"end":{"row":63,"column":13}},"text":"E"},{"action":"insertText","range":{"start":{"row":63,"column":12},"end":{"row":63,"column":13}},"text":"e"},{"action":"removeText","range":{"start":{"row":63,"column":16},"end":{"row":63,"column":67}},"text":"ing bestmove[depth= #{d}]|Player: #{p.index}| best_"},{"action":"insertText","range":{"start":{"row":63,"column":16},"end":{"row":63,"column":32}},"text":" bm score: #{v}|"},{"action":"removeText","range":{"start":{"row":63,"column":36},"end":{"row":63,"column":37}},"text":"="},{"action":"insertText","range":{"start":{"row":63,"column":36},"end":{"row":63,"column":37}},"text":" "},{"action":"removeText","range":{"start":{"row":63,"column":40},"end":{"row":63,"column":51}},"text":".class}| Po"},{"action":"insertText","range":{"start":{"row":63,"column":40},"end":{"row":63,"column":42}},"text":"}|"},{"action":"removeText","range":{"start":{"row":63,"column":44},"end":{"row":63,"column":45}},"text":"("},{"action":"removeText","range":{"start":{"row":69,"column":0},"end":{"row":69,"column":6}},"text":"\t    \t"},{"action":"removeLines","range":{"start":{"row":64,"column":0},"end":{"row":69,"column":0}},"nl":"\n","lines":["\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"removeText","range":{"start":{"row":63,"column":46},"end":{"row":63,"column":107}},"text":"m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)"},{"action":"removeText","range":{"start":{"row":63,"column":46},"end":{"row":64,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":63,"column":46},"end":{"row":63,"column":77}},"text":"d}|p:#{p.index}\".colorize(:red)"},{"action":"insertText","range":{"start":{"row":67,"column":27},"end":{"row":67,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":69,"column":5},"end":{"row":69,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"insertText","range":{"start":{"row":69,"column":5},"end":{"row":69,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":71,"column":4},"end":{"row":71,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":77,"column":0},"end":{"row":77,"column":23}},"text":"\t\t\t\t@@count = @@count+1"},{"action":"insertText","range":{"start":{"row":77,"column":23},"end":{"row":78,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":78,"column":0},"end":{"row":79,"column":0}},"lines":["\t\t\t\t"]},{"action":"insertText","range":{"start":{"row":81,"column":0},"end":{"row":81,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":81,"column":4},"end":{"row":82,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":83,"column":61},"end":{"row":83,"column":62}},"text":")"},{"action":"insertText","range":{"start":{"row":83,"column":61},"end":{"row":83,"column":69}},"text":", count)"},{"action":"insertText","range":{"start":{"row":83,"column":69},"end":{"row":84,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":84,"column":0},"end":{"row":87,"column":0}},"lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"insertText","range":{"start":{"row":87,"column":0},"end":{"row":87,"column":8}},"text":"\t\t\t\t\tend"},{"action":"insertText","range":{"start":{"row":93,"column":61},"end":{"row":93,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":95,"column":66},"end":{"row":95,"column":67}},"text":")"},{"action":"insertText","range":{"start":{"row":95,"column":66},"end":{"row":95,"column":85}},"text":", count) #if \"back\""},{"action":"removeText","range":{"start":{"row":97,"column":4},"end":{"row":97,"column":10}},"text":"return"},{"action":"insertText","range":{"start":{"row":97,"column":4},"end":{"row":97,"column":9}},"text":"while"},{"action":"removeText","range":{"start":{"row":103,"column":0},"end":{"row":103,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeLines","range":{"start":{"row":98,"column":0},"end":{"row":103,"column":0}},"nl":"\n","lines":["\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert"]},{"action":"removeText","range":{"start":{"row":97,"column":22},"end":{"row":98,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":97,"column":22},"end":{"row":97,"column":27}},"text":" == 0"},{"action":"insertText","range":{"start":{"row":97,"column":27},"end":{"row":98,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":98,"column":0},"end":{"row":120,"column":0}},"lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"insertText","range":{"start":{"row":120,"column":0},"end":{"row":120,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":39},"end":{"row":120,"column":42}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":39},"end":{"row":120,"column":50}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":61},"end":{"row":120,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":120,"column":63},"end":{"row":120,"column":79}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":120,"column":63},"end":{"row":120,"column":108}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"removeText","range":{"start":{"row":120,"column":110},"end":{"row":120,"column":111}},"text":"("},{"action":"removeText","range":{"start":{"row":120,"column":112},"end":{"row":120,"column":115}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":112},"end":{"row":120,"column":123}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":128},"end":{"row":120,"column":129}},"text":" "},{"action":"removeText","range":{"start":{"row":120,"column":130},"end":{"row":120,"column":133}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":130},"end":{"row":120,"column":141}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":145},"end":{"row":120,"column":146}},"text":")"},{"action":"removeText","range":{"start":{"row":121,"column":0},"end":{"row":121,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":120,"column":147},"end":{"row":120,"column":154}},"text":"#color?"},{"action":"removeText","range":{"start":{"row":120,"column":147},"end":{"row":121,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":120,"column":147},"end":{"row":120,"column":152}},"text":": \"\")"},{"action":"insertText","range":{"start":{"row":120,"column":152},"end":{"row":121,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":121,"column":0},"end":{"row":127,"column":0}},"lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"insertText","range":{"start":{"row":127,"column":0},"end":{"row":127,"column":3}},"text":"\t\t\t"},{"action":"removeText","range":{"start":{"row":127,"column":20},"end":{"row":127,"column":23}},"text":"Hop"},{"action":"insertText","range":{"start":{"row":127,"column":20},"end":{"row":127,"column":26}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":128,"column":4},"end":{"row":128,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":128,"column":31},"end":{"row":128,"column":32}},"text":" "},{"action":"removeText","range":{"start":{"row":128,"column":84},"end":{"row":128,"column":95}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":128,"column":84},"end":{"row":128,"column":89}},"text":"Direc"},{"action":"removeText","range":{"start":{"row":128,"column":95},"end":{"row":128,"column":96}},"text":"("},{"action":"removeText","range":{"start":{"row":128,"column":103},"end":{"row":128,"column":127}},"text":"estination.x}, #{move.de"},{"action":"insertText","range":{"start":{"row":128,"column":103},"end":{"row":128,"column":137}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"insertText","range":{"start":{"row":128,"column":137},"end":{"row":129,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":129,"column":0},"end":{"row":130,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":130,"column":0},"end":{"row":130,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"insertText","range":{"start":{"row":130,"column":34},"end":{"row":130,"column":35}},"text":"r"},{"action":"removeText","range":{"start":{"row":130,"column":37},"end":{"row":130,"column":48}},"text":"ation.y})\" "},{"action":"insertText","range":{"start":{"row":130,"column":37},"end":{"row":130,"column":76}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"removeText","range":{"start":{"row":131,"column":23},"end":{"row":131,"column":26}},"text":"Jum"},{"action":"insertText","range":{"start":{"row":131,"column":23},"end":{"row":131,"column":25}},"text":"Ho"},{"action":"removeText","range":{"start":{"row":132,"column":10},"end":{"row":132,"column":174}},"text":"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods"},{"action":"insertText","range":{"start":{"row":132,"column":10},"end":{"row":132,"column":76}},"text":"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"insertText","range":{"start":{"row":132,"column":76},"end":{"row":133,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":133,"column":0},"end":{"row":140,"column":0}},"lines":["\t\t\telsif move.class == Jump","\t\t\t\tprint \"#{move.origin.pretty_string} -\" ","\t\t\t\t","\t\t\t\tmove.steps.each do |s| ","\t\t\t\t\tprint \" #{s.pretty_string}\" + (move.jumped_pods.include?(s) ? \"x - \"  : \" - \" )","\t\t\t\tend",""]},{"action":"insertText","range":{"start":{"row":140,"column":0},"end":{"row":140,"column":42}},"text":"\t\t\t\tputs \"#{move.destination.pretty_string"},{"action":"insertText","range":{"start":{"row":140,"column":44},"end":{"row":140,"column":45}},"text":" "},{"action":"removeLines","range":{"start":{"row":150,"column":0},"end":{"row":151,"column":0}},"nl":"\n","lines":["\t\t\t"]},{"action":"insertText","range":{"start":{"row":151,"column":0},"end":{"row":152,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":3,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":21,"column":0},"end":{"row":22,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":21,"column":53},"end":{"row":21,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":37,"column":0},"end":{"row":37,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"removeLines","range":{"start":{"row":35,"column":0},"end":{"row":37,"column":0}},"nl":"\n","lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":35,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"removeText","range":{"start":{"row":43,"column":8},"end":{"row":43,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":16}},"text":"\t\t\t\t            "},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":48,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":48,"column":14},"end":{"row":48,"column":15}},"text":"\t"},{"action":"removeText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":9}},"text":"    "},{"action":"insertText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":56,"column":0},"end":{"row":56,"column":2}},"text":"\t "},{"action":"insertText","range":{"start":{"row":56,"column":2},"end":{"row":57,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":59,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":6}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":7}},"text":" \t#"},{"action":"removeText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"e"},{"action":"insertText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"E"},{"action":"removeText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":33}},"text":" bm score: #{v}|"},{"action":"insertText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":68}},"text":"ing bestmove[depth= #{d}]|Player: #{p.index}| best_"},{"action":"removeText","range":{"start":{"row":59,"column":72},"end":{"row":59,"column":73}},"text":" "},{"action":"insertText","range":{"start":{"row":59,"column":72},"end":{"row":59,"column":73}},"text":"="},{"action":"removeText","range":{"start":{"row":59,"column":76},"end":{"row":59,"column":78}},"text":"}|"},{"action":"insertText","range":{"start":{"row":59,"column":76},"end":{"row":59,"column":87}},"text":".class}| Po"},{"action":"insertText","range":{"start":{"row":59,"column":89},"end":{"row":59,"column":90}},"text":"("},{"action":"removeText","range":{"start":{"row":59,"column":92},"end":{"row":59,"column":123}},"text":"d}|p:#{p.index}\".colorize(:red)"},{"action":"insertText","range":{"start":{"row":59,"column":92},"end":{"row":59,"column":153}},"text":"m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)"},{"action":"insertText","range":{"start":{"row":59,"column":153},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":60,"column":0},"end":{"row":65,"column":0}},"lines":["\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":6}},"text":"\t    \t"},{"action":"removeText","range":{"start":{"row":69,"column":27},"end":{"row":69,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"removeText","range":{"start":{"row":73,"column":4},"end":{"row":73,"column":5}},"text":"#"},{"action":"removeLines","range":{"start":{"row":79,"column":0},"end":{"row":81,"column":0}},"nl":"\n","lines":["\t\t\t\t@@count = @@count+1","\t\t\t\t"]},{"action":"removeLines","range":{"start":{"row":81,"column":0},"end":{"row":82,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":8}},"text":"\t\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":83,"column":0},"end":{"row":86,"column":0}},"nl":"\n","lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":69}},"text":", count)"},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":83,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":88,"column":61},"end":{"row":88,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":85}},"text":", count) #if \"back\""},{"action":"insertText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":67}},"text":")"},{"action":"removeText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":9}},"text":"while"},{"action":"insertText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":10}},"text":"return"},{"action":"removeText","range":{"start":{"row":115,"column":0},"end":{"row":115,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeLines","range":{"start":{"row":93,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":92,"column":28}},"text":" == 0"},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":93,"column":0},"end":{"row":98,"column":0}},"lines":["\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert"]},{"action":"insertText","range":{"start":{"row":98,"column":0},"end":{"row":98,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":77}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":69}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":80},"end":{"row":98,"column":81}},"text":")"},{"action":"removeText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":128}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"insertText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":99}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":98,"column":101},"end":{"row":98,"column":102}},"text":"("},{"action":"removeText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":115}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":107}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":112},"end":{"row":98,"column":113}},"text":" "},{"action":"removeText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":126}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":118}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":122},"end":{"row":98,"column":123}},"text":")"},{"action":"removeText","range":{"start":{"row":105,"column":0},"end":{"row":105,"column":3}},"text":"\t\t\t"},{"action":"removeLines","range":{"start":{"row":99,"column":0},"end":{"row":105,"column":0}},"nl":"\n","lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":130}},"text":": \"\")"},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":132}},"text":"#color?"},{"action":"insertText","range":{"start":{"row":98,"column":132},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":29}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":26}},"text":"Hop"},{"action":"removeText","range":{"start":{"row":100,"column":4},"end":{"row":100,"column":5}},"text":"#"},{"action":"removeText","range":{"start":{"row":100,"column":30},"end":{"row":100,"column":31}},"text":" "},{"action":"removeText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":87}},"text":"Direc"},{"action":"insertText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":93}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":100,"column":99},"end":{"row":100,"column":100}},"text":"("},{"action":"removeText","range":{"start":{"row":102,"column":0},"end":{"row":102,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"removeLines","range":{"start":{"row":101,"column":0},"end":{"row":102,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":142}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":101,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":132}},"text":"estination.x}, #{move.de"},{"action":"removeText","range":{"start":{"row":100,"column":134},"end":{"row":100,"column":135}},"text":"r"},{"action":"removeText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":175}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"insertText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":147}},"text":"ation.y})\" "},{"action":"removeText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":25}},"text":"Ho"},{"action":"insertText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":26}},"text":"Jum"},{"action":"removeText","range":{"start":{"row":110,"column":0},"end":{"row":110,"column":42}},"text":"\t\t\t\tputs \"#{move.destination.pretty_string"},{"action":"removeLines","range":{"start":{"row":103,"column":0},"end":{"row":110,"column":0}},"nl":"\n","lines":["\t\t\telsif move.class == Jump","\t\t\t\tprint \"#{move.origin.pretty_string} -\" ","\t\t\t\t","\t\t\t\tmove.steps.each do |s| ","\t\t\t\t\tprint \" #{s.pretty_string}\" + (move.jumped_pods.include?(s) ? \"x - \"  : \" - \" )","\t\t\t\tend",""]},{"action":"removeText","range":{"start":{"row":102,"column":10},"end":{"row":102,"column":76}},"text":"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"removeText","range":{"start":{"row":102,"column":10},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":102,"column":10},"end":{"row":102,"column":174}},"text":"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods"},{"action":"removeText","range":{"start":{"row":102,"column":176},"end":{"row":102,"column":177}},"text":" "},{"action":"insertText","range":{"start":{"row":112,"column":0},"end":{"row":112,"column":3}},"text":"\t\t\t"},{"action":"insertText","range":{"start":{"row":112,"column":3},"end":{"row":113,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":114,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"insertText","range":{"start":{"row":2,"column":13},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":22,"column":4},"end":{"row":23,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":23,"column":53},"end":{"row":23,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"insertText","range":{"start":{"row":36,"column":3},"end":{"row":36,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"insertText","range":{"start":{"row":36,"column":61},"end":{"row":37,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":37,"column":0},"end":{"row":39,"column":0}},"lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"insertText","range":{"start":{"row":48,"column":8},"end":{"row":48,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":9}},"text":"\t"},{"action":"insertText","range":{"start":{"row":52,"column":8},"end":{"row":52,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"insertText","range":{"start":{"row":52,"column":32},"end":{"row":53,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":16}},"text":"\t\t\t\t            "},{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":54,"column":16},"end":{"row":54,"column":17}},"text":"\t"},{"action":"removeText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":9}},"text":"    "},{"action":"removeLines","range":{"start":{"row":62,"column":0},"end":{"row":63,"column":0}},"nl":"\n","lines":["\t "]},{"action":"removeText","range":{"start":{"row":64,"column":0},"end":{"row":64,"column":2}},"text":"\t "},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":64,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":63,"column":0},"end":{"row":63,"column":1}},"text":"\t"},{"action":"removeText","range":{"start":{"row":63,"column":5},"end":{"row":63,"column":6}},"text":"#"},{"action":"insertText","range":{"start":{"row":63,"column":5},"end":{"row":63,"column":6}},"text":"\t"},{"action":"removeText","range":{"start":{"row":63,"column":12},"end":{"row":63,"column":13}},"text":"E"},{"action":"insertText","range":{"start":{"row":63,"column":12},"end":{"row":63,"column":13}},"text":"e"},{"action":"removeText","range":{"start":{"row":63,"column":16},"end":{"row":63,"column":67}},"text":"ing bestmove[depth= #{d}]|Player: #{p.index}| best_"},{"action":"insertText","range":{"start":{"row":63,"column":16},"end":{"row":63,"column":32}},"text":" bm score: #{v}|"},{"action":"removeText","range":{"start":{"row":63,"column":36},"end":{"row":63,"column":37}},"text":"="},{"action":"insertText","range":{"start":{"row":63,"column":36},"end":{"row":63,"column":37}},"text":" "},{"action":"removeText","range":{"start":{"row":63,"column":40},"end":{"row":63,"column":51}},"text":".class}| Po"},{"action":"insertText","range":{"start":{"row":63,"column":40},"end":{"row":63,"column":42}},"text":"}|"},{"action":"removeText","range":{"start":{"row":63,"column":44},"end":{"row":63,"column":45}},"text":"("},{"action":"removeText","range":{"start":{"row":69,"column":0},"end":{"row":69,"column":6}},"text":"\t    \t"},{"action":"removeLines","range":{"start":{"row":64,"column":0},"end":{"row":69,"column":0}},"nl":"\n","lines":["\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"removeText","range":{"start":{"row":63,"column":46},"end":{"row":63,"column":107}},"text":"m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)"},{"action":"removeText","range":{"start":{"row":63,"column":46},"end":{"row":64,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":63,"column":46},"end":{"row":63,"column":77}},"text":"d}|p:#{p.index}\".colorize(:red)"},{"action":"insertText","range":{"start":{"row":67,"column":27},"end":{"row":67,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":69,"column":5},"end":{"row":69,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"insertText","range":{"start":{"row":69,"column":5},"end":{"row":69,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":71,"column":4},"end":{"row":71,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":77,"column":0},"end":{"row":77,"column":23}},"text":"\t\t\t\t@@count = @@count+1"},{"action":"insertText","range":{"start":{"row":77,"column":23},"end":{"row":78,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":78,"column":0},"end":{"row":79,"column":0}},"lines":["\t\t\t\t"]},{"action":"insertText","range":{"start":{"row":81,"column":0},"end":{"row":81,"column":4}},"text":"\t\t\t\t"},{"action":"insertText","range":{"start":{"row":81,"column":4},"end":{"row":82,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":83,"column":61},"end":{"row":83,"column":62}},"text":")"},{"action":"insertText","range":{"start":{"row":83,"column":61},"end":{"row":83,"column":69}},"text":", count)"},{"action":"insertText","range":{"start":{"row":83,"column":69},"end":{"row":84,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":84,"column":0},"end":{"row":87,"column":0}},"lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"insertText","range":{"start":{"row":87,"column":0},"end":{"row":87,"column":8}},"text":"\t\t\t\t\tend"},{"action":"insertText","range":{"start":{"row":93,"column":61},"end":{"row":93,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":95,"column":66},"end":{"row":95,"column":67}},"text":")"},{"action":"insertText","range":{"start":{"row":95,"column":66},"end":{"row":95,"column":85}},"text":", count) #if \"back\""},{"action":"removeText","range":{"start":{"row":97,"column":4},"end":{"row":97,"column":10}},"text":"return"},{"action":"insertText","range":{"start":{"row":97,"column":4},"end":{"row":97,"column":9}},"text":"while"},{"action":"removeText","range":{"start":{"row":103,"column":0},"end":{"row":103,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeLines","range":{"start":{"row":98,"column":0},"end":{"row":103,"column":0}},"nl":"\n","lines":["\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert"]},{"action":"removeText","range":{"start":{"row":97,"column":22},"end":{"row":98,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":97,"column":22},"end":{"row":97,"column":27}},"text":" == 0"},{"action":"insertText","range":{"start":{"row":97,"column":27},"end":{"row":98,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":98,"column":0},"end":{"row":120,"column":0}},"lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"insertText","range":{"start":{"row":120,"column":0},"end":{"row":120,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":39},"end":{"row":120,"column":42}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":39},"end":{"row":120,"column":50}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":61},"end":{"row":120,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":120,"column":63},"end":{"row":120,"column":79}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":120,"column":63},"end":{"row":120,"column":108}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"removeText","range":{"start":{"row":120,"column":110},"end":{"row":120,"column":111}},"text":"("},{"action":"removeText","range":{"start":{"row":120,"column":112},"end":{"row":120,"column":115}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":112},"end":{"row":120,"column":123}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":128},"end":{"row":120,"column":129}},"text":" "},{"action":"removeText","range":{"start":{"row":120,"column":130},"end":{"row":120,"column":133}},"text":"mov"},{"action":"insertText","range":{"start":{"row":120,"column":130},"end":{"row":120,"column":141}},"text":"final_choic"},{"action":"removeText","range":{"start":{"row":120,"column":145},"end":{"row":120,"column":146}},"text":")"},{"action":"removeText","range":{"start":{"row":121,"column":0},"end":{"row":121,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":120,"column":147},"end":{"row":120,"column":154}},"text":"#color?"},{"action":"removeText","range":{"start":{"row":120,"column":147},"end":{"row":121,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":120,"column":147},"end":{"row":120,"column":152}},"text":": \"\")"},{"action":"insertText","range":{"start":{"row":120,"column":152},"end":{"row":121,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":121,"column":0},"end":{"row":127,"column":0}},"lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"insertText","range":{"start":{"row":127,"column":0},"end":{"row":127,"column":3}},"text":"\t\t\t"},{"action":"removeText","range":{"start":{"row":127,"column":20},"end":{"row":127,"column":23}},"text":"Hop"},{"action":"insertText","range":{"start":{"row":127,"column":20},"end":{"row":127,"column":26}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":128,"column":4},"end":{"row":128,"column":5}},"text":"#"},{"action":"insertText","range":{"start":{"row":128,"column":31},"end":{"row":128,"column":32}},"text":" "},{"action":"removeText","range":{"start":{"row":128,"column":84},"end":{"row":128,"column":95}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":128,"column":84},"end":{"row":128,"column":89}},"text":"Direc"},{"action":"removeText","range":{"start":{"row":128,"column":95},"end":{"row":128,"column":96}},"text":"("},{"action":"removeText","range":{"start":{"row":128,"column":103},"end":{"row":128,"column":127}},"text":"estination.x}, #{move.de"},{"action":"insertText","range":{"start":{"row":128,"column":103},"end":{"row":128,"column":137}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"insertText","range":{"start":{"row":128,"column":137},"end":{"row":129,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":129,"column":0},"end":{"row":130,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":130,"column":0},"end":{"row":130,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"insertText","range":{"start":{"row":130,"column":34},"end":{"row":130,"column":35}},"text":"r"},{"action":"removeText","range":{"start":{"row":130,"column":37},"end":{"row":130,"column":48}},"text":"ation.y})\" "},{"action":"insertText","range":{"start":{"row":130,"column":37},"end":{"row":130,"column":76}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"removeText","range":{"start":{"row":131,"column":23},"end":{"row":131,"column":26}},"text":"Jum"},{"action":"insertText","range":{"start":{"row":131,"column":23},"end":{"row":131,"column":25}},"text":"Ho"},{"action":"removeText","range":{"start":{"row":132,"column":10},"end":{"row":132,"column":174}},"text":"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods"},{"action":"insertText","range":{"start":{"row":132,"column":10},"end":{"row":132,"column":76}},"text":"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"insertText","range":{"start":{"row":132,"column":76},"end":{"row":133,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":133,"column":0},"end":{"row":140,"column":0}},"lines":["\t\t\telsif move.class == Jump","\t\t\t\tprint \"#{move.origin.pretty_string} -\" ","\t\t\t\t","\t\t\t\tmove.steps.each do |s| ","\t\t\t\t\tprint \" #{s.pretty_string}\" + (move.jumped_pods.include?(s) ? \"x - \"  : \" - \" )","\t\t\t\tend",""]},{"action":"insertText","range":{"start":{"row":140,"column":0},"end":{"row":140,"column":42}},"text":"\t\t\t\tputs \"#{move.destination.pretty_string"},{"action":"insertText","range":{"start":{"row":140,"column":44},"end":{"row":140,"column":45}},"text":" "},{"action":"removeLines","range":{"start":{"row":150,"column":0},"end":{"row":151,"column":0}},"nl":"\n","lines":["\t\t\t"]},{"action":"insertText","range":{"start":{"row":151,"column":0},"end":{"row":152,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":2}},"text":"\t\t"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":13}},"text":"@@count = 1"},{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":3,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":21,"column":0},"end":{"row":22,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":21,"column":53},"end":{"row":21,"column":62}},"text":", @@count"},{"action":"removeText","range":{"start":{"row":37,"column":0},"end":{"row":37,"column":134}},"text":"\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)"},{"action":"removeLines","range":{"start":{"row":35,"column":0},"end":{"row":37,"column":0}},"nl":"\n","lines":["\t\t\tif position.game_ended?(player)\t",""]},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":61}},"text":"#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)"},{"action":"removeText","range":{"start":{"row":34,"column":3},"end":{"row":35,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":34,"column":3},"end":{"row":34,"column":35}},"text":"if position.game_ended?(player)\t"},{"action":"removeText","range":{"start":{"row":43,"column":8},"end":{"row":43,"column":18}},"text":"new_move, "},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":16}},"text":"\t\t\t\t            "},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":32}},"text":"#\tputs \"BM: #{new_move}\""},{"action":"removeText","range":{"start":{"row":47,"column":8},"end":{"row":48,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":47,"column":8},"end":{"row":47,"column":9}},"text":"\t"},{"action":"removeText","range":{"start":{"row":48,"column":0},"end":{"row":48,"column":2}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":48,"column":14},"end":{"row":48,"column":15}},"text":"\t"},{"action":"removeText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":9}},"text":"    "},{"action":"insertText","range":{"start":{"row":52,"column":5},"end":{"row":52,"column":6}},"text":"\t"},{"action":"insertText","range":{"start":{"row":56,"column":0},"end":{"row":56,"column":2}},"text":"\t "},{"action":"insertText","range":{"start":{"row":56,"column":2},"end":{"row":57,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":59,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":6}},"text":"\t\t"},{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":7}},"text":" \t#"},{"action":"removeText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"e"},{"action":"insertText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"E"},{"action":"removeText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":33}},"text":" bm score: #{v}|"},{"action":"insertText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":68}},"text":"ing bestmove[depth= #{d}]|Player: #{p.index}| best_"},{"action":"removeText","range":{"start":{"row":59,"column":72},"end":{"row":59,"column":73}},"text":" "},{"action":"insertText","range":{"start":{"row":59,"column":72},"end":{"row":59,"column":73}},"text":"="},{"action":"removeText","range":{"start":{"row":59,"column":76},"end":{"row":59,"column":78}},"text":"}|"},{"action":"insertText","range":{"start":{"row":59,"column":76},"end":{"row":59,"column":87}},"text":".class}| Po"},{"action":"insertText","range":{"start":{"row":59,"column":89},"end":{"row":59,"column":90}},"text":"("},{"action":"removeText","range":{"start":{"row":59,"column":92},"end":{"row":59,"column":123}},"text":"d}|p:#{p.index}\".colorize(:red)"},{"action":"insertText","range":{"start":{"row":59,"column":92},"end":{"row":59,"column":153}},"text":"m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)"},{"action":"insertText","range":{"start":{"row":59,"column":153},"end":{"row":60,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":60,"column":0},"end":{"row":65,"column":0}},"lines":["\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend"]},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":6}},"text":"\t    \t"},{"action":"removeText","range":{"start":{"row":69,"column":27},"end":{"row":69,"column":34}},"text":", count"},{"action":"removeText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":20}},"text":"rint \"I chose: "},{"action":"insertText","range":{"start":{"row":71,"column":5},"end":{"row":71,"column":29}},"text":"uts \"Now it's my turn..."},{"action":"removeText","range":{"start":{"row":73,"column":4},"end":{"row":73,"column":5}},"text":"#"},{"action":"removeLines","range":{"start":{"row":79,"column":0},"end":{"row":81,"column":0}},"nl":"\n","lines":["\t\t\t\t@@count = @@count+1","\t\t\t\t"]},{"action":"removeLines","range":{"start":{"row":81,"column":0},"end":{"row":82,"column":0}},"nl":"\n","lines":["\t\t\t\t"]},{"action":"removeText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":8}},"text":"\t\t\t\t\tend"},{"action":"removeLines","range":{"start":{"row":83,"column":0},"end":{"row":86,"column":0}},"nl":"\n","lines":["\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")"]},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":69}},"text":", count)"},{"action":"removeText","range":{"start":{"row":82,"column":61},"end":{"row":83,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":82,"column":61},"end":{"row":82,"column":62}},"text":")"},{"action":"removeText","range":{"start":{"row":88,"column":61},"end":{"row":88,"column":67}},"text":",count"},{"action":"removeText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":85}},"text":", count) #if \"back\""},{"action":"insertText","range":{"start":{"row":90,"column":66},"end":{"row":90,"column":67}},"text":")"},{"action":"removeText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":9}},"text":"while"},{"action":"insertText","range":{"start":{"row":92,"column":4},"end":{"row":92,"column":10}},"text":"return"},{"action":"removeText","range":{"start":{"row":115,"column":0},"end":{"row":115,"column":24}},"text":"\t\t\t\t#puts \"#{final_choic"},{"action":"removeLines","range":{"start":{"row":93,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":["\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)"]},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":92,"column":28}},"text":" == 0"},{"action":"removeText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":92,"column":23},"end":{"row":93,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":93,"column":0},"end":{"row":98,"column":0}},"lines":["\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert"]},{"action":"insertText","range":{"start":{"row":98,"column":0},"end":{"row":98,"column":51}},"text":"\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{mov"},{"action":"removeText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":77}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":66},"end":{"row":98,"column":69}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":80},"end":{"row":98,"column":81}},"text":")"},{"action":"removeText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":128}},"text":"\"+ (final_choice.class == Insert ? \"Direction"},{"action":"insertText","range":{"start":{"row":98,"column":83},"end":{"row":98,"column":99}},"text":" Insert prong at"},{"action":"insertText","range":{"start":{"row":98,"column":101},"end":{"row":98,"column":102}},"text":"("},{"action":"removeText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":115}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":104},"end":{"row":98,"column":107}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":112},"end":{"row":98,"column":113}},"text":" "},{"action":"removeText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":126}},"text":"final_choic"},{"action":"insertText","range":{"start":{"row":98,"column":115},"end":{"row":98,"column":118}},"text":"mov"},{"action":"insertText","range":{"start":{"row":98,"column":122},"end":{"row":98,"column":123}},"text":")"},{"action":"removeText","range":{"start":{"row":105,"column":0},"end":{"row":105,"column":3}},"text":"\t\t\t"},{"action":"removeLines","range":{"start":{"row":99,"column":0},"end":{"row":105,"column":0}},"nl":"\n","lines":["\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)"]},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":130}},"text":": \"\")"},{"action":"removeText","range":{"start":{"row":98,"column":125},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":98,"column":125},"end":{"row":98,"column":132}},"text":"#color?"},{"action":"insertText","range":{"start":{"row":98,"column":132},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":6}},"text":"\t\t\tels"},{"action":"removeText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":29}},"text":"Insert"},{"action":"insertText","range":{"start":{"row":99,"column":23},"end":{"row":99,"column":26}},"text":"Hop"},{"action":"removeText","range":{"start":{"row":100,"column":4},"end":{"row":100,"column":5}},"text":"#"},{"action":"removeText","range":{"start":{"row":100,"column":30},"end":{"row":100,"column":31}},"text":" "},{"action":"removeText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":87}},"text":"Direc"},{"action":"insertText","range":{"start":{"row":100,"column":82},"end":{"row":100,"column":93}},"text":"Pod Destina"},{"action":"insertText","range":{"start":{"row":100,"column":99},"end":{"row":100,"column":100}},"text":"("},{"action":"removeText","range":{"start":{"row":102,"column":0},"end":{"row":102,"column":32}},"text":"\t\t\t\t\tputs \"#{move.origin.pretty_"},{"action":"removeLines","range":{"start":{"row":101,"column":0},"end":{"row":102,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":142}},"text":"irection[move.x][move.y]}\" #color?"},{"action":"removeText","range":{"start":{"row":100,"column":108},"end":{"row":101,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":100,"column":108},"end":{"row":100,"column":132}},"text":"estination.x}, #{move.de"},{"action":"removeText","range":{"start":{"row":100,"column":134},"end":{"row":100,"column":135}},"text":"r"},{"action":"removeText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":175}},"text":"g} + #{move.direction[move.x][move.y]}\""},{"action":"insertText","range":{"start":{"row":100,"column":136},"end":{"row":100,"column":147}},"text":"ation.y})\" "},{"action":"removeText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":25}},"text":"Ho"},{"action":"insertText","range":{"start":{"row":101,"column":23},"end":{"row":101,"column":26}},"text":"Jum"},{"action":"removeText","range":{"start":{"row":110,"column":0},"end":{"row":110,"column":42}},"text":"\t\t\t\tputs \"#{move.destination.pretty_string"},{"action":"removeLines","range":{"start":{"row":103,"column":0},"end":{"row":110,"column":0}},"nl":"\n","lines":["\t\t\telsif move.class == Jump","\t\t\t\tprint \"#{move.origin.pretty_string} -\" ","\t\t\t\t","\t\t\t\tmove.steps.each do |s| ","\t\t\t\t\tprint \" #{s.pretty_string}\" + (move.jumped_pods.include?(s) ? \"x - \"  : \" - \" )","\t\t\t\tend",""]},{"action":"removeText","range":{"start":{"row":102,"column":10},"end":{"row":102,"column":76}},"text":"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" "},{"action":"removeText","range":{"start":{"row":102,"column":10},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":102,"column":10},"end":{"row":102,"column":174}},"text":"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods"},{"action":"removeText","range":{"start":{"row":102,"column":176},"end":{"row":102,"column":177}},"text":" "},{"action":"insertText","range":{"start":{"row":112,"column":0},"end":{"row":112,"column":3}},"text":"\t\t\t"},{"action":"insertText","range":{"start":{"row":112,"column":3},"end":{"row":113,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":114,"column":0},"end":{"row":115,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":135,"column":0},"end":{"row":135,"column":3}},"text":"end"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":135,"column":0}},"nl":"\n","lines":["module Octi","\tclass Game","\t\tattr_reader :board_obj","\t\tdef initialize","\t\t\t@ui = UserInterface.new","\t\t\t@comp = Player.new(0, 12)","","\t\t\t@human = Player.new(1, 12)","\t\t\t@board_obj = Board.new(6,7, @comp, @human)","\t\t\t@initial_position = Position.new(@board_obj.board, @comp, @human)","\t\t#\tgame_tree = GameTree.new(@initial_position)","\t\t\t@moves_made = Array.new(2) { Array.new() }","","\t\t\t@ui.print_message(\"Welcome to OCTI!\")","\t\t\trun(@initial_position, @human)","\t\tend","","\t\tdef run(current_position, player_to_move)","\t\t\tif current_position.game_ended?(player_to_move)","\t\t\t winner(current_position.end_value(player_to_move), player_to_move)","\t\t\telse","\t\t\t\tnext_move = turn(player_to_move, current_position)","\t\t\t\t@moves_made[player_to_move.index].push(next_move)","\t\t\t\t#puts \"move->#{next_move} \".colorize(:green)","\t\t\t\tif next_move != nil","\t\t\t\t\tc_p = next_move.execute_move(current_position)","\t\t\t\t\tcurrent_position = c_p","\t\t\t\t\t winner(current_position.end_value(player_to_move), player_to_move)","\t\t\t\tend ","\t\t\t\trun(current_position, current_position.other_player(player_to_move)) ","\t\t\tend","\t\tend","\t\t","\t\tdef bestmove(position, player, depth)","\t\t\tif position.game_ended?(player)\t","\t\t\t  return nil, position.end_value(player)\t","\t\t\telsif depth == 0","\t\t\t  return nil, position.heuristic_value(player)","\t\t\telse","\t\t\t\tbest_move = nil","\t\t\t\tbest_value = player.worst_value\t\t","\t\t\t\tmoves = position.legal_moves(player).flatten","\t\t\t\tfor move in moves","\t\t\t\t    move_value = bestmove(move.execute_move(position),","\t\t\t\t             position.other_player(player), ","\t\t\t\t             depth - 1)","\t\t\t\t    if best_move == nil || player.better_for(move_value, best_value)","\t\t\t\t    \tbest_move = move","\t\t            \tbest_value = move_value","\t\t\t\t    end","\t\t\t\tend","\t\t\t\treturn print_bestmove(best_move, best_value, depth, player,position)","\t    \tend","\t    end\t","\t    ","\t    def print_bestmove(m, v, d, p,position)","\t ","\t   \t\tposition.game_ended?(p)","","\t    \t#puts \"Exiting bestmove[depth= #{d}]|Player: #{p.index}| best_move=#{m.class}| Pod:(#{m.origin.x}, #{m.origin.y})|best_value= #{v}\".colorize(:blue)","\t    #\tputs \"exiting bestmove: #{print_move(m)} p#{p.index} v#{v}\"","\t    \tif m.class == Insert && p.index == 1","\t    \t\t ","\t    \t#\tputs \"Insert details: (#{m.x}, #{m.y})\".colorize(:yellow)","\t    \tend","\t    \t","\t    \treturn m,v","\t    end","","\t\tdef turn(player, position)","\t\t\tif player.index == 0","\t\t\t\tputs \"Now it's my turn...\".colorize(:yellow)","\t\t\t\tval = bestmove(position,player,2)","\t\t\t\tputs \"I have chosen...\".colorize(:yellow)","","\t\t\t\tprint_move(val[0])","","\t\t\t\treturn val[0]","\t\t\telsif player.index == 1","\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\toptions_prompt = get_options(position, player)","\t\t\t\tif options_prompt != nil","\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options)","\t\t\t\telse","\t\t\t\t\treturn nil","\t\t\t\tend","\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options) ","\t\t\t\tend","\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui)","\t\t\t\t","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert","\t\t\t\t\tputs \"Move: #{move.class}| Pod Location:(#{move.origin.x}, #{move.origin.y}) | Insert prong at: (#{move.x}, #{move.y})\" #color?","\t\t\telsif move.class == Hop","\t\t\t\tputs \"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})\" ","\t\t\telsif move.class == Jump","\t\t\t\tputs \"Move: #{move.class}|Pod Location:(#{move.origin.x}, #{move.origin.y}) | Pod Destination: (#{move.destination.x}, #{move.destination.y})|captures: #{move.jumped_pods}\"","\t\t\telse","\t\t\t\tputs \"ERROR: Move is nil: #{move}\".colorize(:red)","\t\t\tend","\t\tend","","\t\tdef all_moves(index)","\t\t\tfor move in @moves_made[index]","\t\t\t\tprint_move(move)","\t\t\tend","\t\t\t","\t\tend","\t\tdef get_options(position, player)","\t\t\tall = position.legal_moves(player)","\t\t\tif all.flatten != nil","\t\t\t\toh = OptionHash.new(all, player)","\t\t\t\treturn oh","\t\t\tend ","\t\t\treturn nil","\t\tend","","\t\tdef winner(value, player)","\t\t\tif value == 100","\t\t\t\tif player.index == 0","\t\t\t\t\tabort( \"GAME OVER. You lose.\")","\t\t\t\telsif player.index == 1","\t\t\t \t #value == -100","\t\t\t\t\tabort( \"GAME OVER. You win!\")","\t\t\t\tend","\t\t\tend","","\t\tend","\tend"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":11}},"text":"module Octi"},{"action":"insertText","range":{"start":{"row":0,"column":11},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":173,"column":0}},"lines":["\tclass Game","\t\t@@count = 1","\t\tattr_reader :board_obj","\t\tdef initialize","\t\t\t@ui = UserInterface.new","\t\t\t@comp = Player.new(0, 12)","","\t\t\t@human = Player.new(1, 12)","\t\t\t@board_obj = Board.new(6,7, @comp, @human)","\t\t\t@initial_position = Position.new(@board_obj.board, @comp, @human)","\t\t#\tgame_tree = GameTree.new(@initial_position)","\t\t\t@moves_made = Array.new(2) { Array.new() }","","\t\t\t@ui.print_message(\"Welcome to OCTI!\")","\t\t\trun(@initial_position, @human)","\t\tend","","\t\tdef run(current_position, player_to_move)","\t\t\tif current_position.game_ended?(player_to_move)","\t\t\t winner(current_position.end_value(player_to_move), player_to_move)","\t\t\telse","\t\t\t\t","\t\t\t\tnext_move = turn(player_to_move, current_position, @@count)","\t\t\t\t@moves_made[player_to_move.index].push(next_move)","\t\t\t\t#puts \"move->#{next_move} \".colorize(:green)","\t\t\t\tif next_move != nil","\t\t\t\t\tc_p = next_move.execute_move(current_position)","\t\t\t\t\tcurrent_position = c_p","\t\t\t\t\t winner(current_position.end_value(player_to_move), player_to_move)","\t\t\t\tend ","\t\t\t\trun(current_position, current_position.other_player(player_to_move)) ","\t\t\tend","\t\tend","\t\t","\t\tdef bestmove(position, player, depth)","\t\t\t#puts \"Entering bestmove[depth: #{depth}]\".colorize(:blue)","\t\t\tif position.game_ended?(player)\t","","\t\t\t#\tputs \"G_O:depth:#{depth}, p:#{player.index}, #{position.end_value(player)}, #{position.heuristic_value(player)}\".colorize(:green)","\t\t\t  return nil, position.end_value(player)\t","\t\t\telsif depth == 0","\t\t\t  return nil, position.heuristic_value(player)","\t\t\telse","\t\t\t\tbest_move = nil","\t\t\t\tbest_value = player.worst_value\t\t","\t\t\t\tmoves = position.legal_moves(player).flatten","\t\t\t\tfor move in moves","\t\t\t\t    new_move, move_value = bestmove(move.execute_move(position),","\t\t\t\t             position.other_player(player), ","\t\t\t\t             depth - 1)","\t\t\t\t    if best_move == nil || player.better_for(move_value, best_value)","\t\t\t\t    #\tputs \"BM: #{new_move}\"","\t\t\t\t            best_move = move","\t\t\t\t            best_value = move_value","\t\t\t\t    end","\t\t\t\tend","\t\t\t\treturn print_bestmove(best_move, best_value, depth, player,position)","\t        end","\t    end\t","\t    ","\t    def print_bestmove(m, v, d, p,position)","\t   \t\tposition.game_ended?(p)","\t   \t\tputs \"exit bm score: #{v}|move #{m}|d:#{d}|p:#{p.index}\".colorize(:red)","\t    \treturn m,v","\t    end","","\t\tdef turn(player, position, count)","\t\t\tif player.index == 0","\t\t\t\tprint \"I chose: \".colorize(:yellow)","\t\t\t\tval = bestmove(position,player,2)","\t\t\t\t#puts \"I have chosen...\".colorize(:yellow)","","\t\t\t\tprint_move(val[0])","","\t\t\t\treturn val[0]","\t\t\telsif player.index == 1","\t\t\t\t@@count = @@count+1","\t\t\t\t","\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\toptions_prompt = get_options(position, player)","\t\t\t\t","\t\t\t\tif options_prompt != nil","\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\telse","\t\t\t\t\treturn nil","\t\t\t\tend","\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\tend","\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count) #if \"back\"","\t\t\t\t","\t\t\t\twhile final_choice == 0","\t\t\t\t\tputs \"Your options ...\".colorize(:yellow)","\t\t\t\t\toptions_prompt = get_options(position, player)","","\t\t\t\t\tif options_prompt != nil","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options, count)","\t\t\t\t\t\tif move_choice =~ /[q]$|(quit)/i","\t\t\t\t\t\tputs \"Quitting...\"","\t\t\t\t\t\tabort(\"Goodbye.\")","\t\t\t\t\tend","\t\t\t\t\telse","\t\t\t\t\t\treturn nil","\t\t\t\t\tend","\t\t\t\t\twhile !(1..3).include?(move_choice.to_i)","\t\t\t\t\t\tputs \"Please Choose a valid option.\".colorize(:red)","\t\t\t\t\t\tmove_choice = @ui.get_input(options_prompt.print_options,count) ","\t\t\t\t\tend","\t\t\t\t\tfinal_choice = options_prompt.choose_key(move_choice.to_i, @ui, count)","\t\t\t\tend","","","","\t\t\t\tprint \"You chose: \".colorize(:yellow)","\t\t\t\t#puts \"#{final_choice.origin.x}, #{final_choice.origin.y} |\"+ (final_choice.class == Insert ? \"Direction: #{final_choice.x},#{final_choice.y}\" : \"\")","\t\t\t\tprint_move(final_choice)","\t\t\t\treturn final_choice","\t\t\tend","\t\tend","","\t\tdef print_move(move)","\t\t\tif move.class == Insert","\t\t\t\t#puts \"Move: #{move.class}| Pod Location:(#{move.origin.x}, #{move.origin.y}) | Direction: #{move.direction[move.x][move.y]}\" #color?","","\t\t\t\t\tputs \"#{move.origin.pretty_string} + #{move.direction[move.x][move.y]}\"","\t\t\telsif move.class == Hop","\t\t\t\tputs \"#{move.origin.pretty_string} - #{move.destination.pretty_string}\" ","\t\t\telsif move.class == Jump","\t\t\t\tprint \"#{move.origin.pretty_string} -\" ","\t\t\t\t","\t\t\t\tmove.steps.each do |s| ","\t\t\t\t\tprint \" #{s.pretty_string}\" + (move.jumped_pods.include?(s) ? \"x - \"  : \" - \" )","\t\t\t\tend","","\t\t\t\tputs \"#{move.destination.pretty_string}\" ","\t\t\telse","\t\t\t\tputs \"ERROR: Move is nil: #{move}\".colorize(:red)","\t\t\tend","\t\tend","","\t\tdef all_moves(index)","\t\t\tfor move in @moves_made[index]","\t\t\t\tprint_move(move)","\t\t\tend","\t\tend","","\t\tdef get_options(position, player)","\t\t\tall = position.legal_moves(player)","\t\t\tif all.flatten != nil","\t\t\t\toh = OptionHash.new(all, player)","\t\t\t\treturn oh","\t\t\tend ","\t\t\treturn nil","\t\tend","","\t\tdef winner(value, player)","\t\t\tif value == 100","\t\t\t\tif player.index == 0","\t\t\t\t\tabort( \"GAME OVER. You lose.\")","\t\t\t\telsif player.index == 1","\t\t\t \t #value == -100","\t\t\t\t\tabort( \"GAME OVER. You win!\")","\t\t\t\tend","\t\t\tend","","\t\tend","\tend"]},{"action":"insertText","range":{"start":{"row":173,"column":0},"end":{"row":173,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":63,"column":6},"end":{"row":63,"column":7}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":63,"column":6},"end":{"row":63,"column":7}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":63,"column":6},"end":{"row":63,"column":7}},"text":"#"}]}]]},"ace":{"folds":[],"scrolltop":746,"scrollleft":0,"selection":{"start":{"row":63,"column":6},"end":{"row":63,"column":6},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":52,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1409858381321,"hash":"86aea57284f8ba61e0adf0ab0aaf51d5bd84c9c7"}